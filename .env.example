# Cultural Sound Lab - Root Environment Configuration
# This file contains environment variables for docker-compose and shared services

# Project Information
PROJECT_NAME=cultural-sound-lab
PROJECT_VERSION=1.0.0
COMPOSE_PROJECT_NAME=cultural-sound-lab

# Environment
NODE_ENV=development
APP_ENV=development

# Application Ports
PORT=3001
WEB_PORT=3000
API_PORT=3001
AI_SERVICE_PORT=8000

# Frontend URLs
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_STORAGE_URL=http://localhost:9000

# Database Configuration
# Supabase (Primary)
SUPABASE_URL=your-supabase-url
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# PostgreSQL (Alternative/Backup)
POSTGRES_DB=cultural_sound_lab
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-postgres-password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# Storage Configuration
# MinIO (Local Development)
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=cultural-audio
MINIO_BUCKET_AUDIO=cultural-audio
MINIO_BUCKET_GENERATED=generated-audio
MINIO_BUCKET_UPLOADS=user-uploads
MINIO_USE_SSL=false

# AWS S3 (Production Alternative)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET_AUDIO=cultural-audio-prod
AWS_S3_BUCKET_GENERATED=generated-audio-prod

# Authentication & Security
JWT_SECRET=your-jwt-secret-key-minimum-256-bits
JWT_EXPIRY=24h
REFRESH_TOKEN_SECRET=your-refresh-token-secret
ENCRYPTION_KEY=your-32-character-encryption-key
SESSION_SECRET=your-session-secret-key
BCRYPT_ROUNDS=12

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://culturalsoundlab.com,https://www.culturalsoundlab.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Payments & Billing
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_PRICE_ID_BASIC=price_basic_tier
STRIPE_PRICE_ID_PRO=price_pro_tier
STRIPE_PRICE_ID_ENTERPRISE=price_enterprise_tier

# AI Service Configuration
AI_SERVICE_URL=http://localhost:8000
AI_SERVICE_API_KEY=your-ai-service-api-key
AI_SERVICE_TIMEOUT=300000
MODEL_PATH=/models/audiocraft
AI_MODEL_NAME=audiocraft
AI_MAX_GENERATION_TIME=600
AI_QUEUE_CONCURRENCY=5

# Email Configuration
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=SG.your-sendgrid-api-key
FROM_EMAIL=noreply@culturalsoundlab.com
SUPPORT_EMAIL=support@culturalsoundlab.com

# Monitoring & Observability
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ORG=cultural-sound-lab
SENTRY_PROJECT_WEB=web
SENTRY_PROJECT_API=api
SENTRY_TRACES_SAMPLE_RATE=0.1

# OpenTelemetry Tracing
OTEL_SERVICE_NAME=cultural-sound-lab-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_HEADERS={}
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Monitoring Stack
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
GRAFANA_URL=http://localhost:3002
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password
GRAFANA_API_KEY=your-grafana-api-key
PROMETHEUS_PORT=9090

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# File Upload & Processing
MAX_FILE_SIZE=50MB
MAX_FILES_PER_REQUEST=5
ALLOWED_FILE_TYPES=audio/mpeg,audio/wav,audio/mp3,audio/mp4
TEMP_DIR=/tmp/uploads
CLEANUP_TEMP_FILES=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Security Headers
HELMET_CONTENT_SECURITY_POLICY=true
HELMET_CROSS_ORIGIN_EMBEDDER_POLICY=true
HELMET_CROSS_ORIGIN_OPENER_POLICY=true

# Feature Flags
ENABLE_AUDIO_GENERATION=true
ENABLE_PAYMENT_PROCESSING=false
ENABLE_ANALYTICS=false
ENABLE_SWAGGER_DOCS=true
ENABLE_METRICS_ENDPOINT=true
ENABLE_HEALTH_CHECKS=true
ENABLE_REQUEST_LOGGING=true
ENABLE_CORS=true
ENABLE_RATE_LIMITING=true
ENABLE_EMAIL_NOTIFICATIONS=false

# Cultural Context & Licensing
CULTURAL_APPROVAL_REQUIRED=true
DEFAULT_LICENSE_TYPE=commercial
ROYALTY_SPLIT_PERCENTAGE=70
MINIMUM_PAYOUT_AMOUNT=50

# Queue Configuration
QUEUE_REDIS_URL=redis://localhost:6379
QUEUE_DEFAULT_JOB_OPTIONS_ATTEMPTS=3
QUEUE_DEFAULT_JOB_OPTIONS_BACKOFF_TYPE=exponential
QUEUE_DEFAULT_JOB_OPTIONS_BACKOFF_DELAY=2000

# Docker Configuration
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_DEFAULT_PLATFORM=linux/amd64

# Performance Settings
NODE_OPTIONS="--max-old-space-size=4096"
UV_THREADPOOL_SIZE=128
WORKER_PROCESSES=1

# Development & Testing
DEBUG_MODE=false
MOCK_AI_SERVICE=true
MOCK_PAYMENT_SERVICE=true
MOCK_EMAIL_SERVICE=true
TEST_DATABASE_URL=postgresql://test:test@localhost:5433/test_cultural_sound_lab

# Secrets Management (Production)
# AWS_SECRETS_MANAGER_REGION=us-east-1
# AWS_SECRETS_MANAGER_SECRET_NAME=cultural-sound-lab/production
# VAULT_ADDR=https://vault.company.com
# VAULT_TOKEN=your-vault-token